<!DOCTYPE html>
<html>
<head>
  <style>
  .block {
    background-color:steelblue;
    width:290px;
    height:90px;
    margin:5px;
    opacity:0.95;
    position:absolute;
    border-radius:5px;
  }
  #fun{
    position:absolute;
    left:150px;
    top:350px;
    max-width:99%;
    max-height:99%;
    display:none;
  }
  #great{
    position:absolute;
    left:20%;
    top:10%;
    color:grey;
    font-family: 'PT Sans', sans-serif;
  }
  </style>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <script src="./transit.js"></script>
  <link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
</head>
<body>
  <div id="fun"></div>
<div id="great">-does this water, like what's its story?<br/>
-what do you mean. <p></p>
-does it connect? like to the great lakes?<br/>
-yes.  ..   well i 'm not sure.<br/>
</div>
  <script>
  $(function() {

    function moveit(el){
      var x=Math.floor(Math.random()*20)+'px'
      var y=Math.floor(Math.random()*20)+'px'
      var t=Math.floor(Math.random()*3000)+2000+'ms'
      var deg='5deg';

      if(Math.random()*2>1){
        deg=reverseit(deg)
      }
      if(Math.random()*2>1){
        x=reverseit(x)
      }
      if(Math.random()*2>1){
        y=reverseit(y)
      }


      $(el).transition({
        x: x,
        y:  y,
        rotate: deg,
        easing: 'in-out',
        duration: t
      }, function(){
        $(this).transition({
        x: reverseit(x),
        y:  reverseit(y),
        rotate: reverseit(deg),
        easing: 'in-out',
        duration: t
      })
        moveit(this)
      });


    }

    var html='';
    for(var i=0; i<=25; i++){
      var l=Math.floor(Math.random()*800)
      var t=Math.floor(Math.random()*100)
      html+='<div class="block" style="left:'+l+'px; top:'+t+'px;"></div>'
    }
    console.log(html)
    $("#fun").html(html)

    $('.block').each(function(){
      moveit(this)
    })

    $("#fun").fadeIn('slow');

function reverseit(p){
  if(p[0]!="-"){return '-'+p}
  else{
    return p.substr(1,p.length)
  }
}
  });

</script>

</body>
</html>